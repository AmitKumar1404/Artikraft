Index.php
<?php 
include('includes/connect.php');
include('includes/common_function.php');
@session_start();
 ?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title> Artikraft </title>
	<!-- bootstrap css link -->
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js">
	<!-- font awasome link -->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
	<!-- link css -->
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <nav class="navbar navbar-expand-sm bg-info  "  >
  <h3>ARTIKRAFT</h3> 
  <ul class="navbar-nav me-auto position-absolute top-0 end-0">
  <?php
  	 if (!isset($_SESSION['user_email'])) {
  	echo "<li class='nav-item'>
  	<a href='#' class='nav-link'>Welcome Guest</a></li>";}
  	else{
  	echo "<li class='nav-item'>
  	<a href='#' class='nav-link'>Welcome ".$_SESSION['user_email']."</a>
  </li>";}
  if (!isset($_SESSION['user_email'])) {
  	echo "<li class='nav-item'>
  	<a href='user_login.php' class='nav-link'>Login</a></li>";}
  	else{
  	echo "<li class='nav-item'>
  	<a href='./logout.php' class='nav-link'>Logout</a>
  </li>";
  }
  ?><li class="nav-item">
  	<a href="admin_login.php" class="nav-link">Admin</a>
  </li>
  </ul>     	
</nav>
	<!-- navbar -->
	<div class="container-fluid p-0">
	<!-- First child -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
   		<div class="container-fluid ">
    		<!--<img src="img/logo1.png" class="logo">-->
    		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
     			<span class="navbar-toggler-icon"></span>
    		</button>
    		<div class="collapse navbar-collapse" id="navbarSupportedContent">
      			<ul class="navbar-nav me-auto mb-2 mb-lg-0 ">
        			<li class="nav-item ">
          				<a class="nav-link active text-light " aria-current="page" href="index.php"><b>Home</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="product.php"><b>Product</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="user_registration.php"><b>Register</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="#"><b>Contact</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="cart.php"><i class="fa-solid fa-cart-shopping"></i><b><sup><?php cart_item(); ?></sup></b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light " href="#"><b>Total Price : <?php total_cart_price(); ?>/-</b></a>
        			</li>
      			</ul>
      			<form class="d-flex" action="searchproduct.php" method="get" >
        			<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="search_data">
        			<!--<button class="btn btn-outline-light" type="submit">Search</button>-->
        			<input type="submit" value="Search" class="btn btn-outline-light" name="search_data_product">
      			</form>
    		</div>
  		</div>
	</nav>
	 <!-- Third child -->
	 <div id="demo" class="carousel slide p-0" data-ride="carousel">
  <!-- The slideshow -->
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="img/a.webp" alt="" width="1100" height="500">
    </div>
    <div class="carousel-item">
      <img src="img/b.webp" alt="" width="1100" height="500">
    </div>
    <div class="carousel-item">
      <img src="img/a.webp" alt="" width="1100" height="500">
    </div>
  </div>
  <!-- Left and right controls -->
  <a class="carousel-control-prev" href="#demo" data-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </a>
  <a class="carousel-control-next" href="#demo" data-slide="next">
    <span class="carousel-control-next-icon"></span>
  </a>
</div>
	 <div > 
	 	<h3 class="text-center" id="types">Types Of Handicradft</h3>
	 	
	 </div>
	 <!-- types of craft -->
	 <div class="row">

	 <div class="container col-md-4 mb-2  ">            
  <img src="type1.webp" class="rounded-circle " alt="Cinque Terre" width="304" height="236"  > 
  <div class="t1"><h4 class="craft">Brass Handicraft</h4></div>
</div>

<div class="container col-md-4 mb-2 ms-0">            
  <img src="type2.webp" class="rounded-circle " alt="Cinque Terre" width="304" height="236" > 
  <div class="t2"><h4 class="type">Wooden Handicraft</</h4></div>
</div>
<div class="container col-md-4 mb-2  ">            
  <img src="type3.webp" class="rounded-circle" alt="Cinque Terre" width="304" height="236"  > 
  <div class="t2"><h4 class="type">Embroidery Handicraft</h4></div>
</div>
</div>
<div class="row">
<div class="container col-md-4 mb-2  ">            
  <img src="type5.webp" class="rounded-circle " alt="Cinque Terre" width="304" height="236"> 
  <div class="t1"><h4>Crystal Handicraft</h4></div>
</div>
<div class="container col-md-4 mb-2  ">            
  <img src="type4.webp" class="rounded-circle" alt="Cinque Terre" width="304" height="236"> 
  <div class="t1"><h4>Paper Handicraft</h4></div>
</div>
<div class="container col-md-4 mb-2  ">            
  <img src="type6.webp" class="rounded-circle" alt="Cinque Terre" width="304" height="236" > 
  <div class="t1"><h4>Rock Handicraft</h4></div>
</div>
</div>
	<!-- footer -->		
		<div class="bg-info p-3 text-center">
			<p>All rights reserved @ designed by Aditya</p>
		</div> 
	</div>
	<!-- bootstrap js link -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>																	
</body>
<style type="text/css">
 		.t1{
 			margin-left: 70px;
 		}
 		.t2{
 			margin-left: 40px;
 		}
 		.row{
 			background: white;
 			padding-top: 20px;
 		}
 		 .header{
 	position: fixed;
 	width: 100%;
 }
	</style>
</html>

Cart.php
<?php 
include('includes/connect.php');
include('includes/common_function.php');
@session_start();
 ?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title> Artikraft </title>
	<!-- bootstrap css link -->
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js">
	<!-- font awasome link -->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
	<!-- link css -->
		<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	
  <nav class="navbar navbar-expand-sm bg-info  "  >
  <h3>ARTIKRAFT</h3> 
  <ul class="navbar-nav me-auto position-absolute top-0 end-0">
   
  <?php
  if (!isset($_SESSION['user_email'])) {
  	echo "<li class='nav-item'>
  	<a href='#' class='nav-link'>Welcome Guest</a></li>";}
  	else{
  	echo "<li class='nav-item'>
  	<a href='#' class='nav-link'>Welcome ".$_SESSION['user_email']."</a>
  </li>";}
  if (!isset($_SESSION['user_email'])) {
  	echo "<li class='nav-item'>
  	<a href='user_login.php' class='nav-link'>Login</a></li>";}
  	else{
  	echo "<li class='nav-item'>
  	<a href='./logout.php' class='nav-link'>Logout</a>
  </li>";
  }
  ?>
  </ul>     	
</nav>
	<!-- navbar -->
	<div class="container-fluid p-0">
	<!-- First child -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
   		<div class="container-fluid ">
    		<!--<img src="img/logo1.png" class="logo">-->
    		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
     			<span class="navbar-toggler-icon"></span>
    		</button>
    		<div class="collapse navbar-collapse" id="navbarSupportedContent">
      			<ul class="navbar-nav me-auto mb-2 mb-lg-0">
        			<li class="nav-item">
          				<a class="nav-link active text-light" aria-current="page" href="index.php"><b>Home</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="product.php"><b>Product</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="#"><b>Contact</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="cart.php"><i class="fa-solid fa-cart-shopping"></i><sup><?php cart_item(); ?></sup></a>
        			</li>
      			</ul>
    		</div>
  		</div>
	</nav></div>
	<!-- cart items -->
	<div class="bg-light">
		<h3 class="text-center">Cart Items</h3><hr></div>
	<div class="container-fluid">
		<div class="row">
			<form action="" method="post">
			<table class="table table-bordered text-center">
				<thead>
					<tr>
						<th>Product Name</th>
						<th>Product Image</th>
						<th>Quantity</th>
						<th>Total Price</th>
						<th>Remove</th>
						<th colspan="2">operation</th>
					</tr>
				</thead>
				<tbody>
					<?php 
						
							$total_price=0;
							$ip=getIPAddress();
		     				$cart_query="select * from cart_details where ip_address='$ip'";
		     				$result=mysqli_query($con,$cart_query);
		     				while($row=mysqli_fetch_array($result)){
		     					$product_id=$row['product_id'];
		     					$select_product="select * from Product where product_id=$product_id";
		     					$result_product=mysqli_query($con,$select_product);
		     					while($row_product_price=mysqli_fetch_array($result_product)){
		     						$product_price=array($row_product_price['product_price']);
		     						$price_table=$row_product_price['product_price'];
		     						$product_title=$row_product_price['product_title'];
		     						$product_image=$row_product_price['product_image'];
		     						$product_value=array_sum($product_price);
		     						$total_price+=$product_value;
					 ?>
					<tr>
						<td><?php echo $product_title ?></td>
						<td><img src="./img/<?php echo $product_image ?>" class="cart_img"> </td>
						<td><input type="text" name="qty" class="form-input w-50"> </td>
						<?php 
						$ip=getIPAddress();
						if(isset($_POST['update_cart'])){
							$quantities=$_POST['qty'];
							$update_cart="update cart_details set quantity=$quantities where ip_address='$ip' AND product_id=$product_id";
							$result_product_qty=mysqli_query($con,$update_cart);
							$total_price=$total_price*$quantities;
						}?>

						<td><?php echo $price_table ?> /-</td>
						<td><input type="checkbox" name="removeitem[]" value="<?php echo $product_id ?>"> </td>
						<td>
							<!--<button class="bg-blue px-3 py-2 border-2 mx-3">Update</button>-->
							<input type="submit" value="Update_cart" class="bg-blue px-3 py-2 border-2 mx-3" name="update_cart">
							<input type="submit" value="Remove_cart" class="bg-blue px-3 py-2 border-2 mx-3" name="remove_cart">
						</td>
					</tr>
					<?php 

}}

					?>
				</tbody>
			</table>
			<!--  sub total -->
			<div class="d-flex">
				<h4 class="px-3"> Subtotal : <strong class="text-info"><?php echo $total_price ?>/-</strong></h4>
				<button class="bg-blue px-3 py-2 border-2 mx-3"><strong><a href="index.php">Continue Shopping</a></strong></button> 
				<button class="bg-blue px-3 py-2 border-2 mx-3"><strong><a href="./checkout.php">Payment</a></strong></button> 
			</div>
			</form>
		</div>
	</div>
<!-- funtion to remove item -->
<?php 
function remove_cart_item(){
	global $con;
	if(isset($_POST['remove_cart'])){
		foreach($_POST['removeitem'] as $remove_id){
			echo $remove_id;
			$delete_query="delete from cart_details where product_id=$remove_id";
			$run_delete=mysqli_query($con,$delete_query);
			if($run_delete){
				echo "<script>window.open('cart.php','_self')</script>";
			}
		}
	}
}
echo $remove_item=remove_cart_item();
?>
	<!-- bootstrap js link -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>																			
</body>
<style type="text/css">
		
 		.t1{
 			margin-left: 70px;

 		}
 		.t2{
 			margin-left: 40px;

 		}
 		.row{
 			background: white;
 			padding-top: 20px;
 		}
 		 .header{
 	position: fixed;
 	width: 100%;
 }
 		
 .cart_img{
	width: 50px;
	height: 50px;
	object-fit: contain;
}
	</style>
</html>

Checkout.php

<?php 
include('includes/connect.php');
@session_start();
 ?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Payment</title>
	<!-- bootstrap css link -->
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js">
	<!-- font awasome link -->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
	<!-- link css -->
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <nav class="navbar navbar-expand-sm bg-info  "  >
  <h3>ARTIKRAFT</h3> 
  <ul class="navbar-nav me-auto position-absolute top-0 end-0">
  <?php
  if (!isset($_SESSION['user_email'])) {
  	echo "<li class='nav-item'>
  	<a href='#' class='nav-link'>Welcome Guest</a></li>";}
  	else{
  	echo "<li class='nav-item'>
  	<a href='#' class='nav-link'>Welcome ".$_SESSION['user_email']."</a>
  </li>";}
  if (!isset($_SESSION['user_email'])) {
  	echo "<li class='nav-item'>
  	<a href='user_login.php' class='nav-link'>Login</a></li>";}
  	else{
  	echo "<li class='nav-item'>
  	<a href='./logout.php' class='nav-link'>Logout</a>
  </li>";
  }
  ?>
  </ul>   	
</nav>
	<!-- navbar -->
	<div class="container-fluid p-0">
	<!-- First child -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
   		<div class="container-fluid ">
    		<div class="collapse navbar-collapse" id="navbarSupportedContent">
      			<ul class="navbar-nav me-auto mb-2 mb-lg-0 ">
        			<li class="nav-item ">
          				<a class="nav-link active text-light " aria-current="page" href="index.php"><b>Home</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="product.php"><b>Product</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="register.php"><b>Register</b></a>
        			</li>          			
        			</li>-->
        			<li class="nav-item">
          				<a class="nav-link text-light" href="#"><b>Contact</b></a>
        			</li>     			       			
      			</ul>
    		</div>
  		</div>
	</nav>
	<!-- second child -->
	 <nav >
	 	<div class="row px-1">
	 		<div class="col-md-12">
	 			<div class="row">
	 				<?php 
	 					if(!isset($_SESSION['user_email'])) {
	 						include('user_login.php');
	 					}
	 					else{
	 						include('payment.php');
	 					}
	 				?>
	 			</div>
	 		</div>
	 	</div>
	 </nav>
	</div>
	<!-- bootstrap js link -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>																			
</body>
<style type="text/css">
		
 		.t1{
 			margin-left: 70px;

 		}
 		.t2{
 			margin-left: 40px;

 		}
 		.row{
 			background: white;
 			padding-top: 20px;
 		}
 		 .header{
 	position: fixed;
 	width: 100%;
 }
 		
	</style>
</html>

User registration.php

<?php 
include('includes/connect.php');
include('includes/common_function.php');
 ?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>User Registration</title>
	<!-- bootstrap css link -->
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js">
	<!-- link css -->
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class="container-fluid my-3">
		<h2 class="text-center">New User Registration</h2>
		<div class="row d-flex align-items-center justify-content-center ">
			<div class="col-lg-12 col-xl-6 ">
				<form action="" method="post" enctype="multipart/form-data">
					<!--Username fields -->
					<div class="form-outline mb-4">
						<label for="user_username" class="form-label">UserName</label>
						<input type="text" id="user_username" class="form-control" placeholder="Enter your user UserName" autocomplete="off" required="required" name="user_username"/>
					</div>

					<!--email fields -->
					<div class="form-outline mb-4">
						<label for="user_email" class="form-label">Email</label>
						<input type="email" id="user_email" class="form-control" placeholder="Enter your email" autocomplete="off" required="required" name="user_email"/>
					</div>

					<!--user image fields -->
					<div class="form-outline mb-4">
						<label for="user_image" class="form-label">User Image</label>
						<input type="file" id="user_image" class="form-control"   required="required" name="user_image"/>
					</div>
					<!--password fields -->
					<div class="form-outline mb-4">
						<label for="user_password" class="form-label">Password</label>
						<input type="Password" id="user_password" class="form-control" placeholder="Enter your password" autocomplete="off" required="required" name="user_password"/>
					</div>
					<!--confirm password fields -->
					<div class="form-outline mb-4">
						<label for="conf_user_password" class="form-label">Confirm Password</label>
						<input type="Password" id="user_password" class="form-control" placeholder="Confirm Password" autocomplete="off" required="required" name="conf_user_password"/>
					</div>
					<!--Useraddress fields -->
					<div class="form-outline mb-4">
						<label for="user_address" class="form-label">User Address</label>
						<input type="text" id="user_address" class="form-control" placeholder="Enter your Address" autocomplete="off" required="required" name="user_address"/>
					</div>
					<!--Username contact -->
					<div class="form-outline mb-4">
						<label for="user_contact" class="form-label">Contact Number</label>
						<input type="text" id="user_contact" class="form-control" placeholder="Enter your Contact Number" autocomplete="off" required="required" name="user_contact"/>
					</div>
					<div class="text-center mt-4 pt-2">
						<input type="submit" name="user_register" value="Register" class="bg-info py-2 px-3 fw-bold" border-0 >
						<p class="small fw-bold mt-2 pt-2 mb-0">Already have an account !  <a href="./user_login.php">Login</a> </p>
					</div>
				</form>
			</div>
		</div>
	</div>

</body>
</html>
<!-- php code -->
<?php 
if(isset($_POST['user_register'])){
	$user_username=$_POST['user_username'];
	$user_email=$_POST['user_email'];
	$user_password=$_POST['user_password'];
	$conf_user_password=$_POST['conf_user_password'];
	$user_address=$_POST['user_address'];
	$user_contact=$_POST['user_contact'];
	$user_image=$_FILES['user_image']['name'];
	$user_image_tmp=$_FILES['user_image']['tmp_name'];
	$user_ip=getIPAddress();
	$select_query="select * from user_table where user_email='$user_email'";
	$result_select=mysqli_query($con,$select_query);
	$number=mysqli_num_rows($result_select);
	if($number>0){
		echo "<script>alert('Already Exist')</script>";
	}
	else if($user_password!=$conf_user_password){
		echo "<script>alert('Password donot matched')</script>";
	}else{
	//insert query
	$insert_query="insert into user_table (user_name,user_email,user_password,user_image,user_ip,user_address,user_mobile ) values ('$user_username','$user_email','$user_password','$user_image','$user_ip','$user_address','$user_contact')";
	$sql_execute=mysqli_query($con,$insert_query);
	if($sql_execute){
		echo "<script>alert('Data Inserted Successfully')</script>";
		move_uploaded_file($user_image_tmp,"./user_images/$user_image");
	}
	else{
		die(mysqli_error($con));
	}}}
 ?>
Session.php

<?php 
session_start();
$_SESSION['user_email']="aditya";
$_SESSION['password']="aditya";
echo "session data is saved";
 ?>
Information.php
<?php 
session_start();
if(isset($_SESSION['user_email']))
{
	echo "welcome ".$_SESSION['user_email'];
	echo "<br>";
	echo "And your password is ".$_SESSION['password'];
}
else
{
	echo "Please login again and continue";
}
 ?>

Logout.php
<?php 
session_start();
session_unset();
session_destroy();
echo "<script>window.open('index.php','_self')</script>";
?>
Payment.php
<?php 
include('includes/connect.php');
include('includes/common_function.php');
//session_start();
 ?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Payment</title>
	<!-- bootstrap css link -->
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js">
	<!-- link css -->
	
	<link rel="stylesheet" type="text/css" href="style.css">
	<style>
		img{
			width: 80%;
			margin: auto;
			display: block;
		}

	</style>
</head>
<body>
	<!-- access ip address -->
	<?php 
	$user_ip=getIPAddress();
	$get_user="select * from user_table where user_ip='$user_ip'";
	$result=mysqli_query($con,$get_user);
	$run_query=mysqli_fetch_array($result);
	$user_id=$run_query['user_id'];
	 ?>
	<div class="container">
		<h2 class="text-center text-info">PAYMENT OPTIONS</h2>
		<div class="row justify-content-center align-items-center mx-5">
			<div class="col-md-6">
			<a href="https://www.paypal.com"><img src="upi.jpg" alt=""> </a>
			</div>
			<div class="col-md-6 ">
				<a href="order.php?user_id=<?php echo $user_id ?>" ><h1>PAY OFFLINE</h1></a>
			</div>
		</div>
	</div>
</body></html>

User_login.php

<?php 
include('includes/connect.php');
include('includes/common_function.php');
@session_start();
 ?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>User Registration</title>
	<!-- bootstrap css link -->
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js">
	<!-- link css -->
	
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class="container-fluid my-3">
		<h2 class="text-center">User Login</h2>
		<div class="row d-flex align-items-center justify-content-center mt-5">
			<div class="col-lg-12 col-xl-6 ">
				<form action="" method="post" enctype="multipart/form-data">

					<!--Username fields -->
					
					<div class="form-outline mb-4">
						<label for="user_email" class="form-label">Email</label>
						<input type="email" id="user_email" class="form-control" placeholder="Enter your email" autocomplete="off" required="required" name="user_email"/>
					</div>
					<!--password fields -->
					<div class="form-outline mb-4">
						<label for="user_password" class="form-label">Password</label>
						<input type="password" id="user_password" class="form-control" placeholder="Enter your password" autocomplete="off" required="required" name="user_password"/>
					</div>	
					<div class="text-center mt-4 pt-2">
						<input type="submit" name="user_login" value="Login" class="bg-info py-2 px-3 fw-bold" border-0 >
						<p class="small fw-bold mt-2 pt-2 mb-0">Don't have an account !  <a href="./user_registration.php">Register</a> </p>
					</div>
				</form>
			</div>
		</div>
	</div>

</body>
</html>
<?php
	
	if(isset($_POST['user_login'])){
		$user_email=$_POST["user_email"];
		$user_password=$_POST['user_password'];

		$select_query="select user_password from user_table where user_email='$user_email'";
		$result_select=mysqli_query($con,$select_query);
		$number=mysqli_num_rows($result_select);
		$row_data=mysqli_fetch_assoc($result_select);
		//$user_ip=getIPAddress();

		//cart item
		/*$select_query_cart="select * from cart_details where ip_address='$user_ip'";
		$select_cart=mysqli_query($con,$select_query_cart);
		$row_count_cart=mysqli_num_rows($select_cart);*/
		if($number>0){
			$_SESSION['user_email']=$user_email;
			//if(password_verify($user_password,$row_data['user_password'])){
				//echo "<script>alert('Successfully Login')</script>";
				if($number==1 and $row_data['user_password']){
					$_SESSION['user_email']=$user_email;
					echo "<script>alert('Successfully Login')</script>";
					echo "<script>window.open('index.php','_self')</script>";
				}else{
					$_SESSION['user_email']=$user_email;
					echo "<script>alert('Successfully Login')</script>";
					echo "<script>window.open('payment.php','_self')</script>";

				}
		
		}else{
			echo "<script>alert('Invalid User')</script>";
		}
	}


?>

Profile.php

<?php 
include('includes/connect.php');
include('includes/common_function.php');
@session_start();
 ?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title> Artikraft </title>
	<!-- bootstrap css link -->
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js">
	<!-- font awasome link -->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
	<!-- link css -->
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>	
  <nav class="navbar navbar-expand-sm bg-info  "  >
  <h3>ARTIKRAFT</h3> 
  <ul class="navbar-nav me-auto position-absolute top-0 end-0"> 
  <?php
  	 if (!isset($_SESSION['user_email'])) {
  	echo "<li class='nav-item'>
  	<a href='#' class='nav-link'>Welcome Guest</a></li>";}
  	else{
  	echo "<li class='nav-item'>
  	<a href='#' class='nav-link'>Welcome ".$_SESSION['user_email']."</a>
  </li>";}
  if (!isset($_SESSION['user_email'])) {
  	echo "<li class='nav-item'>
  	<a href='user_login.php' class='nav-link'>Login</a></li>";}
  	else{
  	echo "<li class='nav-item'>
  	<a href='./logout.php' class='nav-link'>Logout</a>
  </li>";
  }?>
  </ul>     	
</nav>
	<!-- navbar -->
	<div class="container-fluid p-0">
	<!-- First child -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
   		<div class="container-fluid ">
    		<!--<img src="img/logo1.png" class="logo">-->
    		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
     			<span class="navbar-toggler-icon"></span>
    		</button>
    		<div class="collapse navbar-collapse" id="navbarSupportedContent">
      			<ul class="navbar-nav me-auto mb-2 mb-lg-0 ">
        			<li class="nav-item ">
          				<a class="nav-link active text-light " aria-current="page" href="index.php"><b>Home</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="product.php"><b>Product</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="profile.php"><b>My Account</b></a>
        			</li>
         			<li class="nav-item">
          				<a class="nav-link text-light" href="#"><b>Contact</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="cart.php"><i class="fa-solid fa-cart-shopping"></i><b><sup><?php cart_item(); ?></sup></b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light " href="#"><b>Total Price : <?php total_cart_price(); ?>/-</b></a>
        			</li>       			
      			</ul>
      			<form class="d-flex" action="searchproduct.php" method="get" >
        			<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="search_data">
        			<input type="submit" value="Search" class="btn btn-outline-light" name="search_data_product">
      			</form>
    		</div>
  		</div>
	</nav>	
	<div class="row">
		<div class="col-md-2 p-0">
			<ul class="navbar-nav bg-secondary text-center">
			<li class="nav-item bg-info ">
				<a href="#" class="nav-link"><h4>Your Profile</h4></a>
			</li>
			<?php
			$user_email=$_SESSION['user_email'];
			$user_image="select user_image from user_table where user_email='$user_email'";
			$result=mysqli_query($con,$user_image);
			$row_image=mysqli_fetch_array($result);
			$user_image=$row_image['user_image'];
			echo "<li class='nav-item  my-4'>
				<img src='./user_images/$user_image' class='profile_img' alt=''>
			</li>"; 		
			 ?>	
			<li class="nav-item text-light ">
				<a href="profile.php" class="nav-link"><h6>Pending Oreders</h6></a>
			</li>
			<li class="nav-item text-light ">
				<a href="profile.php?edit_account" class="nav-link"><h6>Edit Account</h6></a>
			</li><h6>
			<li class="nav-item text-light ">
				<a href="profile.php?my_orders" class="nav-link"><h6>My Orders</h6></a>
			</li>
			<li class="nav-item text-light ">
				<a href="profile.php?delete_account" class="nav-link"><h6>Delete Account</h6></a>
			</li>
			<li class="nav-item text-light ">
				<a href="logout.php" class="nav-link"><h6>Logout</h6></a>
			</li>
		</ul>
		</div>
		<div class="col-md-10 p-0">
			<?php 
			get_user_order_details()
			 ?>
		</div>
	</div>
		<!-- footer -->	
		<div class="bg-info p-3 text-center">
			<p>All rights reserved @ designed by Aditya</p>		
		</div> 
	</div>
	<!-- bootstrap js link -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>																			
</body>
<style type="text/css">
		
 		.profile_img{
 			width: 150px;
 			height:150px;
 			margin: auto;
 			display:block ;
 		}
	</style>
</html>

Insert_product.php

<?php 
//link to connection page
include('../includes/connect.php');
if (isset($_POST['insert_product'])) {
	$product_title=$_POST['Product-title'];
	$discription=$_POST['discription'];
	$product_Keyword=$_POST['product_Keyword'];
	$product_categories=$_POST['product_categories'];
	$product_price=$_POST['product_price'];
	$product_status='true';
	$product_image= $_FILES['product_image']['name'];	
	// accessing image
	$temp_image= $_FILES['product_image']['tmp_name'];
//checking empty condition
    if($product_title=='' or $discription=='' or $product_Keyword=='' or $product_categories=='' or $product_price=='' or $product_image==''){
		echo "<script>alert('Please fill all the available fields')</script>";
		exit();		
	}
    else{
		move_uploaded_file($temp_image,"../product_images/$product_image");

		$insert_products="insert into product (product_title,product_discription,product_keyword,category_id,product_image,product_price,date,status) values ('$product_title','$discription','$product_Keyword','$product_categories','$product_image','$product_price',NOW(),'$product_status')";
		$result=mysqli_query($con,$insert_products);
		if ($result){
			echo "<script>alert('Sucessfully inserted the product')</script>";
		}
	}
}
?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Insert Product-Admin Dashboard</title>
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<!-- css link -->
	<link rel="stylesheet" type="text/css" href="adminstyle.css">
	<!-- font awasome link -->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>
<body class="bg-light">
	<div class="container mt-3 border border-danger-3">
		<h1 class="text-center">Insert Product</h1>
		<form action="" method="post" enctype="multipart/form-data ">
			<!-- title -->
			<div class="form-outline mb-4 w-50 m-auto">
				<label for="Product-title" class="form-label">Product Title</label>
				<input type="text" name="Product-title" id="Product-title" class="form-control" placeholder="Enter Product title" autocomplete="off" required="required">
			</div>
			<!-- discription -->
			<div class="form-outline mb-4 w-50 m-auto">
				<label for="discription" class="form-label">Product discription</label>
				<input type="text" name="discription" id="discription" class="form-control" placeholder="Enter Product discription" autocomplete="off" required="required">
			</div>
			<!-- Keyword -->
			<div class="form-outline mb-4 w-50 m-auto">
				<label for="product_Keyword" class="form-label">Product Keyword</label>
				<input type="text" name="product_Keyword" id="product_Keyword" class="form-control" placeholder="Enter Product Keyword" autocomplete="off" required="required">
			</div>
			<!-- categories -->
			<div class="form-outline mb-4 w-50 m-auto">
				<select name="product_categories" id="" class="form-select">
					<option value="">Select a Category</option>
					<?php 
					$select_category="select * from category";
          			$result=mysqli_query($con,$select_category);
          			while($row=mysqli_fetch_assoc($result)){
          				$category_name=$row['category_name'];
          				$category_id=$row['category_id'];
          				echo "<option value='$category_id'> $category_name</option>";
          			}
					 ?>					
				</select>
			</div>
			<!-- Image -->
			<div class="form-outline mb-4 w-50 m-auto">
				<label for="product_Keyword" class="form-label">product image</label>
				<input type="file" name="product_image" id="product image" class="form-control" required="required">
			</div>
		<!-- Product Price -->
			<div class="form-outline mb-4 w-50 m-auto">
				<label for="product_price" class="form-label">Product price</label>
				<input type="text" name="product_price" id="product_price" class="form-control" placeholder="Enter Product Price" autocomplete="off" required="required">
			</div>
			<!-- submit button -->
			<div class="form-outline mb-4 w-50 m-auto">
				<input type="submit" name="insert_product" class="btn btn-info mb-3 px-3" value="Insert Product">
			</div>
		</form>
	</div>
</body>
</html>

Product.php
 
<?php 
//link to connection page
include('./includes/connect.php');
include('includes/common_function.php');
@session_start();
?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Product</title>
	<!-- bootstrap css link -->
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js">
	<!-- font awasome link -->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
	<!-- link css -->
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<nav class="navbar navbar-expand-sm bg-info  "  >
  <h3>ARTIKRAFT</h3> 
  <ul class="navbar-nav me-auto position-absolute top-0 end-0">
  <li class="nav-item">
  	<a href="" class="nav-link">Admin</a>
  </li> 
  <?php
 if (!isset($_SESSION['user_email'])) {
  	echo "<li class='nav-item'>
  	<a href='#' class='nav-link'>Welcome Guest</a></li>";}
  	else{
  	echo "<li class='nav-item'>
  	<a href='#' class='nav-link'>Welcome ".$_SESSION['user_email']."</a>
  </li>";}
  if (!isset($_SESSION['user_email'])) {
  	echo "<li class='nav-item'>
  	<a href='user_login.php' class='nav-link'>Login</a></li>";}
  	else{
  	echo "<li class='nav-item'>
  	<a href='./logout.php' class='nav-link'>Logout</a>
  </li>";
  }?>
  </ul>     	
</nav>
	<!-- navbar -->
	<div class="container-fluid p-0">
	<!-- First child -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
   		<div class="container-fluid ">
    		<!--<img src="img/logo1.png" class="logo">-->
    		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
     			<span class="navbar-toggler-icon"></span>
    		</button>
    		<div class="collapse navbar-collapse" id="navbarSupportedContent">
      			<ul class="navbar-nav me-auto mb-2 mb-lg-0">
        			<li class="nav-item">
          				<a class="nav-link active" aria-current="page" href="index.php"><b>Home</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="product.php"><b>Product</b></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="cart.php"><i class="fa-solid fa-cart-shopping"></i><sup><?php cart_item(); ?></sup></a>
        			</li>
        			<li class="nav-item">
          				<a class="nav-link text-light" href="#"><b>Total Price :<?php total_cart_price() ?></b></a>
        			</li>		
      			</ul>
      			<form class="d-flex" role="search">
        			<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        			<button class="btn btn-outline-light" type="submit">Search</button>
      			</form>
    		</div>
  		</div>
	</nav>
	<?php  
	cart();
  ?>
</div>
	<div>
	<h3 class="text-center">OUR PRODUCTS</h3><hr>
	</div>
<div class="row ms-2 px-1">
  <div class="col-md-12">
  <! Product -->
  <div class="row">
  	<?php
  	//calling function
  	getproducts();

  	 ?>
		</div></div>

</div>


</body>
</html>

Indexadmin.php

<?php 
include('../includes/connect.php');
 ?>
 <!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE*edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Admin Dashboard</title>
	<!-- bootstrap css link -->
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<!-- css link -->
	<link rel="stylesheet" type="text/css" href="adminstyle.css">
	<!-- font awasome link -->
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>
<body>
	<div class="container-fluid p-0">
		<!-- first child -->
		<nav class="navbar navbar-expand-lg navbar-light bg-info">
			<div class="container-fluid">
				<h3 style="color:;">ARTIKRAFT</h3>			
				<p class="text-center text-light">Admin Name</p>
						<nav class="navbar navbar-expand-lg ">
					<ul class="navbar-nav">
						<li class="nav-item">
							<a href="" class="nav-link">Welcome Guest</a>
						</li>
					</ul>
				</nav>
			</div>
		</nav>
		<!-- second child -->
		<div class="bg-secondary">
			<h3 class="text-center p-2">Manage Details</h3>		
		</div>
		<!-- Third child -->
		<div class="  ">
		<nav class="navbar navbar-expand-lg  p-0 fs-5 ">
     <div class="container-fluid ">
    <div class="collapse navbar-collapse " id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link text-dark" aria-current="page" href="indexadmin.php?insert_product">Insert Product |</a>
        </li>
        <li class="nav-item">
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark " href="indexadmin.php?insert_cat">Insert Category |</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark" href="indexadmin.php?view_cat">View Category |</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark" href="indexadmin.php?view_order">All Orders |</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark" href="indexadmin.php?view_users">List User |</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark" href="../index.php">Log Out</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
</div>
<hr>		
	<!-- fourth child -->
	<div class="container my-5">
		<?php
			if (isset($_GET['insert_product'])) {
				include('insert_product.php');
			}
		 ?>
	</div>
	<div class="container my-5">
		<?php
			if (isset($_GET['insert_cat'])) {
				include('insert_category.php');
			} ?>
	</div>
	<div class="container my-5">
		<?php
			if (isset($_GET['view_cat'])) {
				include('view_category.php');
			} ?>
	</div>
	<div class="container my-5">
		<?php
			if (isset($_GET['view_order'])) {
				include('view_order.php');
			}
		 ?>
	</div>
		<div class="container my-5">
		<?php
			if (isset($_GET['view_users'])) {
				include('view_users.php');
			}
		 ?>

	</div>
<!-- bootstrap js link -->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>	
</body>
      <style type="text/css">
      	#navbarNav{
      		margin-left: 15%;
      		font-weight: bold;
      	}
      </style>
</html>

Common_function.php

<?php 
include('includes/connect.php');
//getting product
function getproducts(){
	global $con;
	$select_query="select * from Product order by product_title ";
  		$result=mysqli_query($con,$select_query);
  		//$row=mysqli_fetch_assoc($result);
  		//echo $row['product_title'] ;
  		while($row=mysqli_fetch_assoc($result)){
  			$product_id=$row['product_id'];
  			$product_title=$row['product_title'];
  			$product_discription=$row['product_discription'];
  			$product_keyword=$row['product_keyword'];
  			$category_id=$row['category_id'];
  			$product_image=$row['product_image'];
  			$product_price=$row['product_price'];
  			echo "<div class='col-md-3 mb-2 '>
			        <div class='card' style='width: 18rem;''>
  			<img src='./Admin/product_images/$product_image' class='card-img-top' alt='$product_title'>
  			<div class='card-body'>
    			<h5 class='card-title'>$product_title</h5>
    			<p class='card-text'>$product_discription</p>
    			<p class='card-text'>Price :- $product_price</p>
				<a href='product.php?add_to_cart=$product_id' class='btn btn-info'>Add to cart</a>
    			<a href='#' class='btn btn-info'>View more</a>
  			</div></div></div>";
  		}
}

//get ip address function
function getIPAddress() {  
    //whether ip is from the share internet  
     if(!empty($_SERVER['HTTP_CLIENT_IP'])) {  
                $ip = $_SERVER['HTTP_CLIENT_IP'];  
        }  
    //whether ip is from the proxy  
    elseif (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {  
                $ip = $_SERVER['HTTP_X_FORWARDED_FOR'];  
     }  
//whether ip is from the remote address  
    else{  
             $ip = $_SERVER['REMOTE_ADDR'];  
     }  
     return $ip;  
}  
//cart function
function cart(){
	global $con;
	if (isset($_GET['add_to_cart'])) {
		$ip = getIPAddress(); 
		$get_product_id=$_GET['add_to_cart'];
		$select_query="select * from cart_details where ip_address='$ip' and product_id=$get_product_id";
		$result=mysqli_query($con,$select_query);
		$row=mysqli_fetch_assoc($result);
		if ($row>0) {
			echo "<script>alert('This item is already present inside cart')</script>";
			echo "<script>window.open('product.php','_self')</script>";
		}else{
			$insert_query="insert into cart_details(product_id,ip_address,quantity) values ($get_product_id,'$ip',0)";
			$result=mysqli_query($con,$insert_query);
			echo "<script>alert('sucessfully added inside cart')</script>";
			echo "<script>window.open('product.php','_self')</script>";
		}
} }
// function to get cart item number
function cart_item(){
	if (isset($_GET['add_to_cart'])) {
		global $con;	
		$ip = getIPAddress(); 
		$select_query="select * from cart_details where ip_address='$ip'"; 
		$result=mysqli_query($con,$select_query);
		$count_cart_item=mysqli_num_rows($result);
	}
	else{
		global $con;
		$ip = getIPAddress(); 
		$select_query="select * from cart_details where ip_address='$ip'"; 
		$result=mysqli_query($con,$select_query);
		$count_cart_item=mysqli_num_rows($result);
		}
		echo $count_cart_item;
	}
//total price function
	function total_cart_price(){
		global $con;
		$total_price=0;
		$ip=getIPAddress();
		$cart_query="select * from cart_details where ip_address='$ip'";
		$result=mysqli_query($con,$cart_query);
		while($row=mysqli_fetch_array($result)){
			$product_id=$row['product_id'];
			$select_product="select * from Product where product_id=$product_id";
			$result_product=mysqli_query($con,$select_product);
			while($row_product_price=mysqli_fetch_array($result_product)){
				$product_price=array($row_product_price['product_price']);
				$product_value=array_sum($product_price);
				$total_price+=$product_value;
			}
		}
		echo "$total_price";
	}
	//get user order details
	function get_user_order_details(){
		global $con;
		$user_email=$_SESSION['user_email'];
		$get_details="select * from user_table where user_email='$user_email'";
		$result_query=mysqli_query($con,$get_details);
		while($row_query=mysqli_fetch_array($result_query)){
			$user_id=$row_query['user_id'];
			if(!isset($_GET['edit_account'])){
				if(!isset($_GET['my_orders'])){
					if(!isset($_GET['delete_account'])){
						$get_orders="select * from user_orders where user_id=$user_id and order_status='pending'";
						$result_order_query=mysqli_query($con,$get_orders);
						/*$row_count=mysqli_num_rows($result_order_query);
						if($row_count>0){
							echo "<h3 class='text-center'>You have <span class='text-danger'>$row_count</span> pending orders</h3>*/
						echo "<p class='text-center'><a href='profile.php?my_orders'>Order Details</a></p>";
						}

					}
				}
			}
		}	
 ?>

Insert_category.php

<?php 
//link to connection page
include('../includes/connect.php');
if(isset($_POST['insert_cat'])) {
	$category_name=$_POST['cat_title'];
	//select data from database
	$select_query="select * from category where category_name='$category_name'";
	$result_select=mysqli_query($con,$select_query);
	$number=mysqli_num_rows($result_select);
	if($number>0){
		echo "<script>alert('Already Exist')</script>";
	}else{
	//insert data query
	$insert_query="insert into category (category_name) values ('$category_name')";
	$result=mysqli_query($con,$insert_query);
	if($result){
			echo "<script>alert('category has been inserted sucessfully')</script>";
		}	
	}
}
 ?>
 <div > 
	 	<h3 class="text-center" id="types">Insert Categories</h3> 	
	 </div>
<form action="" method="post" class="mb-2">
	<div class="input-group w-90 mb-3">
  <span class="input-group-text bg-info" id="basic-addon1"><i class="fa-solid fa-receipt"></i></span>
  <input type="text" class="form-control" name="cat_title" placeholder="Insert Category" aria-label="Username" aria-describedby="basic-addon1">
</div>
<div class="input-group w-10 mb-2 m-auto">
  <input type="submit" class="bg-info border-1 p-2 my-3" name="insert_cat"  value="Insert category"> 
</div>
</form>
<style type="text/css">
	 #types{
 	font-family:Comic Sans MS;
 	text-decoration: underline;     
    text-color: blue;  
 	font-size: 26px;	
 }
</style>

Connect.php

<?php 
 $con=mysqli_connect('localhost','root','','artikraft');
 if(!$con){
 	die(mysqli_error($con));
 }
 ?>

Order.php

<?php 
include('includes/connect.php');
include('includes/common_function.php');
@session_start();
if(isset($_GET['user_id'])){
    $user_id=$_GET['user_id'];
    //echo $user_id;
}
//geting total items and price
$get_ip_address=getIPAddress();
$total_price=0;
$cart_query_price="select * from cart_details where ip_address='$get_ip_address'";
$result_cart_price=mysqli_query($con,$cart_query_price);
$invoice_number=mt_rand();
//echo $invoice_number;
$status="pending";
$count_product=mysqli_num_rows($result_cart_price);
while($row_price=mysqli_fetch_arraY($result_cart_price)){
    $product_id=$row_price['product_id'];
    $select_product="select * from product where product_id=$product_id";
    $run_price=mysqli_query($con,$select_product);
    while($row_product_price=mysqli_fetch_arraY($run_price)){
        $product_price=array($row_product_price['product_price']);
        $product_values=array_sum($product_price);
        $total_price+=$product_values;
    }
    // cart quantity
    $get_cart="select * from cart_details";
    $run_cart=mysqli_query($con,$get_cart);
    $get_item_quantity=mysqli_fetch_array($run_cart);
    $quantity=$get_item_quantity['quantity'];
    if($quantity==0){
        $quantity=1;
        $subtotal=$total_price;
    }else{
        $quantity=$quantity;
        $subtotal=$total_price*$quantity;
    }

    $insert_order="insert into user_order(user_id,amount_due,invoice_number,total_product,order_date,order_status) values ($user_id,$subtotal,$invoice_number,$count_product,NOW(),'$status')";
    $result_query=mysqli_query($con,$insert_order);
    if($result_query){
        echo "<script>alert('order are sumitted sucessfully')</script>";
        echo "<script>window.open('profile.php','_self')</script>";

    }
    //order pending status
    $insert_pending_order="insert into orders_pending(user_id,invoice_number,product_id,quantity,order_status) values($user_id,$invoice_number,$product_id,$quantity,'$status')";
    $result_pending=mysqli_query($con,$insert_pending_order);
    //delete items from cart
    $empty_cart="delete from cart_details where ip_address='$get_ip_address'";
    $result_delete=mysqli_query($con,$empty_cart);
    //echo "<script>window.open('profile.php',_self)</script>";
}
     ?>

View_category.php

<?php 
//link to connection page
include('../includes/connect.php');
 ?>
 <div > 
	 	<h3 class="text-center" id="types">All Categories</h3> 	
	 </div>
	 <table class="table table-bordered mt-5">
	 	<thead class="bg-info text-center">
	 		<tr>
	 			<th>Sl.No</th>
	 			<th>Category id</th>
	 			<th>Category Name</th>
	 		</tr>
	 	</thead>
	 	<tbody class="bg-secondary text-light">
	 		<?php 
	 		$select_cat="select * from category";
	 		$result=mysqli_query($con,$select_cat);
	 		$number=0;
	 		while ($row=mysqli_fetch_assoc($result)) {
	 			$category_id=$row['category_id'];
	 			$category_Name=$row['category_name'];
	 			$number++;
	 		 ?>
	 		 <tr class="text-center">
	 		 	<td><?php echo $number; ?></td>
	 		 	<td><?php echo $category_id; ?></td>
	 		 	<td><?php echo $category_Name; ?></td>
	 		 </tr>
	 		 <?php  
	 		}?>
	 	</tbody> 	
	 </table>
<style type="text/css">
	 #types{
 	font-family:Comic Sans MS;
 	text-decoration: underline;     
    text-color: blue;  
 	font-size: 26px; 	
 }
</style>

Admin_registration.php

<?php 
include('includes/connect.php');
include('includes/common_function.php');
 ?>
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Admin Registration</title>
    <!-- bootstrap css link -->
    <link rel="stylesheet" type="text/css" href="   https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js">
    <!-- link css -->   
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div class="container-fluid my-3">
        <h2 class="text-center">New Admin Registration</h2>
        <div class="row d-flex align-items-center justify-content-center ">
            <div class="col-lg-12 col-xl-6 ">
                <form action="" method="post" enctype="multipart/form-data">

                    <!--Username fields -->
                    <div class="form-outline mb-4">
                        <label for="user_username" class="form-label">UserName</label>
                        <input type="text" id="user_username" class="form-control" placeholder="Enter your user UserName" autocomplete="off" required="required" name="user_username"/>
                    </div>
                    <!--email fields -->
                    <div class="form-outline mb-4">
                        <label for="user_email" class="form-label">Email</label>
                        <input type="email" id="user_email" class="form-control" placeholder="Enter your email" autocomplete="off" required="required" name="user_email"/>
                    </div>
                    <!--user image fields -->
                    <div class="form-outline mb-4">
                        <label for="user_image" class="form-label">User Image</label>
                        <input type="file" id="user_image" class="form-control"   required="required" name="user_image"/>
                    </div>
                    <!--password fields -->
                    <div class="form-outline mb-4">
                        <label for="user_password" class="form-label">Password</label>
                        <input type="Password" id="user_password" class="form-control" placeholder="Enter your password" autocomplete="off" required="required" name="user_password"/>
                    </div>
                    <!--confirm password fields -->
                    <div class="form-outline mb-4">
                        <label for="conf_user_password" class="form-label">Confirm Password</label>
                        <input type="Password" id="user_password" class="form-control" placeholder="Confirm Password" autocomplete="off" required="required" name="conf_user_password"/>
                    </div>
                    <!--Useraddress fields -->
                    <div class="form-outline mb-4">
                        <label for="user_address" class="form-label">User Address</label>
                        <input type="text" id="user_address" class="form-control" placeholder="Enter your Address" autocomplete="off" required="required" name="user_address"/>
                    </div>
                    <!--Username contact -->
                    <div class="form-outline mb-4">
                        <label for="user_contact" class="form-label">Contact Number</label>
                        <input type="text" id="user_contact" class="form-control" placeholder="Enter your Contact Number" autocomplete="off" required="required" name="user_contact"/>
                    </div>
                    <div class="text-center mt-4 pt-2">
                        <input type="submit" name="admin_register" value="Register" class="bg-info py-2 px-3 fw-bold" border-0 >
                        <p class="small fw-bold mt-2 pt-2 mb-0">Already have an account !  <a href="./admin_login.php">Login</a> </p>
                    </div>
                </form>
            </div>
        </div>
    </div>

</body>
</html>
<!-- php code -->
<?php 
if(isset($_POST['admin_register'])){
    $user_username=$_POST['user_username'];
    $user_email=$_POST['user_email'];
    $user_password=$_POST['user_password'];
    $conf_user_password=$_POST['conf_user_password'];
    $user_address=$_POST['user_address'];
    $user_contact=$_POST['user_contact'];
    $user_image=$_FILES['user_image']['name'];
    $user_image_tmp=$_FILES['user_image']['tmp_name'];
    $user_ip=getIPAddress();
    $select_query="select * from admin_table where user_email='$user_email'";
    $result_select=mysqli_query($con,$select_query);
    $number=mysqli_num_rows($result_select);
    if($number>0){
        echo "<script>alert('Already Exist')</script>";
    }
    else if($user_password!=$conf_user_password){
        echo "<script>alert('Password donot matched')</script>";
    }else{
    //insert query    
    $insert_query="insert into admin_table (user_name,user_email,user_password,user_image,user_ip,user_address,user_mobile ) values ('$user_username','$user_email','$user_password','$user_image','$user_ip','$user_address','$user_contact')";
    $sql_execute=mysqli_query($con,$insert_query);
    if($sql_execute){
        echo "<script>alert('Data Inserted Successfully')</script>";
        move_uploaded_file($user_image_tmp,"./user_images/$user_image");
    }
    else{
        die(mysqli_error($con));
    }}} 
    ?>

Admin_login.php

<?php 
include('includes/connect.php');
include('includes/common_function.php');
@session_start();
 ?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Admin Registration</title>
	<!-- bootstrap css link -->
	<link rel="stylesheet" type="text/css" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js">
	<!-- link css -->
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class="container-fluid my-3">
		<h2 class="text-center">Admin Login</h2>
		<div class="row d-flex align-items-center justify-content-center mt-5">
			<div class="col-lg-12 col-xl-6 ">
				<form action="" method="post" enctype="multipart/form-data">
					<!--Username fields -->
						<div class="form-outline mb-4">
						<label for="user_email" class="form-label">Email</label>
						<input type="email" id="user_email" class="form-control" placeholder="Enter your email" autocomplete="off" required="required" name="user_email"/>
					</div>
					<!--password fields -->
					<div class="form-outline mb-4">
						<label for="user_password" class="form-label">Password</label>
						<input type="password" id="user_password" class="form-control" placeholder="Enter your password" autocomplete="off" required="required" name="user_password"/>
					</div>	
					<div class="text-center mt-4 pt-2">
						<input type="submit" name="admin_login" value="Login" class="bg-info py-2 px-3 fw-bold" border-0 >
						<p class="small fw-bold mt-2 pt-2 mb-0">Don't have an account !  <a href="./Admin_registration.php">Register</a> </p>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>
</html>
<?php	
	if(isset($_POST['admin_login'])){
		$user_email=$_POST["user_email"];
		$user_password=$_POST['user_password'];
		$select_query="select user_password from admin_table where user_email='$user_email'";
		$result_select=mysqli_query($con,$select_query);
		$number=mysqli_num_rows($result_select);
		$row_data=mysqli_fetch_assoc($result_select);
		if($number>0){
			$_SESSION['user_email']=$user_email;
			//if(password_verify($user_password,$row_data['user_password'])){
				//echo "<script>alert('Successfully Login')</script>";
				if($number==1 and $row_data['user_password']){
					$_SESSION['user_email']=$user_email;
					echo "<script>alert('Successfully Login')</script>";
					echo "<script>window.open('admin/indexadmin.php','_self')</script>";
				}else{
					$_SESSION['user_email']=$user_email;
					echo "<script>alert('Successfully Login')</script>";
					echo "<script>window.open('admin_registration.php','_self')</script>";
				}	
		}else{
			echo "<script>alert('Invalid User')</script>";
		}
	}
?>

View_order.php

<?php 
//link to connection page
include('../includes/connect.php');
 ?>
 <div > 
	 	<h3 class="text-center" id="types">All Orders</h3>
	 	
	 </div>
	 <table class="table table-bordered mt-5">
	 	<thead class="bg-info text-center">
	 		<tr>
	 			<th>Sl.No</th>
	 			<th>User id</th>
	 			<th>Invoice number</th>
	 			<th>Total Product</th>
	 			<th>Amount</th>
	 			<th>Order Date</th>

	 		</tr>
	 	</thead>
	 	<tbody class="bg-secondary text-light">
	 		<?php 
	 		$select_cat="select * from user_order";
	 		$result=mysqli_query($con,$select_cat);
	 		$number=0;
	 		while ($row=mysqli_fetch_assoc($result)) {
	 			$user_id=$row['user_id'];
	 			$invoice_number=$row['invoice_number'];
	 			$total_product=$row['total_product'];
	 			$amount=$row['amount_due'];
	 			$order_date=$row['order_date'];
	 			$number++;
	 		 ?>
	 		 <tr class="text-center">
	 		 	<td><?php echo $number; ?></td>
	 		 	<td><?php echo $user_id; ?></td>
	 		 	<td><?php echo $invoice_number; ?></td>
	 		 	<td><?php echo $total_product; ?></td>
	 		 	<td><?php echo $amount; ?></td>
	 		 	<td><?php echo $order_date; ?></td>
	 		 </tr>
	 		 <?php  
	 		}?>
	 	</tbody>
	 	
	 </table>

<style type="text/css">
	 #types{
 	font-family:Comic Sans MS;
 	text-decoration: underline;     
    text-color: blue;  
 	font-size: 26px;
 	
 }
</style>

View_user.php

<?php 
//link to connection page
include('../includes/connect.php');
 ?>
 <div > 
	 	<h3 class="text-center" id="types">All Users</h3>
	 	
	 </div>
	 <table class="table table-bordered mt-5">
	 	<thead class="bg-info text-center">
	 		<tr>
	 			<th>Sl.No</th>
	 			<th>UserId</th>
	 			<th>Name</th>
	 			<th>Email</th>
	 			<th>Image</th>
	 			<th>IP</th>
	 			<th>Address</th>
	 			<th>Mobile</th>
	 		</tr>
	 	</thead>
	 	<tbody class="bg-secondary text-light">
	 		<?php 
	 		$select_cat="select * from user_table";
	 		$result=mysqli_query($con,$select_cat);
	 		$number=0;
	 		while ($row=mysqli_fetch_assoc($result)) {
	 			$user_id=$row['user_id'];
	 			$user_name=$row['user_name'];
	 			$user_email=$row['user_email'];
	 			$user_image=$row['user_image'];
	 			$user_ip=$row['user_ip'];
	 			$user_address=$row['user_address'];
	 			$user_mobile=$row['user_mobile'];
	 			$number++;
	 		 ?>
	 		 <tr class="text-center">
	 		 	<td><?php echo $number; ?></td>
	 		 	<td><?php echo $user_id; ?></td>
	 		 	<td><?php echo $user_name; ?></td>
	 		 	<td><?php echo $user_email; ?></td>
	 		 	<td><?php echo $user_image; ?></td>
	 		 	<td><?php echo $user_ip; ?></td>
	 		 	<td><?php echo $user_address; ?></td>
	 		 	<td><?php echo $user_mobile; ?></td>
	 		 </tr>
	 		 <?php  
	 		}?>
	 	</tbody>
	 	
	 </table>

<style type="text/css">
	 #types{
 	font-family:Comic Sans MS;
 	text-decoration: underline;     
    text-color: blue;  
 	font-size: 26px;
 	
 }
</style>


style.css

*{
	margin: 0;
	padding:0;
	box-sizing: border-box;
}

.card-img-top{
	width: 100%;
	height:150px;
	object-fit: contain;
}
.carousel-inner img {
    width: 100%;
    height: 50vh;
  }

 #types{
 	font-family:Brush Script MT;
 	font-size: 46px;
 	padding-top: 50px;
 }
.cart_img{
	width: 50px;
	height: 50px;
}





